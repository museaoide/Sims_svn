fpout$x
fpout$Dout$pnew
yde <- fpout$Dout$ygivenx %*% y
yde
y[ , 2:3] <- y[ ,2:3] + .01
system.time(fpout <- DiscFP(param, gy=c(gy), y=y, U = Ucapm, alph=1000, xfcn = xfcnCapm, nit=1000))
fpout$itct
fpout$x
fpout$pnew
fpout$Dout$pnew
yde <- fpout$Dout$ygivenx %*% y
yde
source('~/R/svnPrinceton/toolbox/RIplus/trunk/DiscreteX/xfcnCapm.R')
source('~/R/svnPrinceton/toolbox/RIplus/trunk/DiscreteX/Ucapm.R')
system.time(fpout <- DiscFP(param, gy=c(gy), y=y, U = Ucapm, alph=1000, xfcn = xfcnCapm, nit=1000))
fpout$itct
fpout$x
fpout$Dout$pnew
source('~/R/svnPrinceton/toolbox/RIplus/trunk/DiscreteX/xfcnCapm.R')
source('~/R/svnPrinceton/toolbox/RIplus/trunk/DiscreteX/Ucapm.R')
system.time(fpout <- DiscFP(param, gy=c(gy), y=y, U = Ucapm, alph=1000, xfcn = xfcnCapm, nit=1000))
fpout$x
fpout$Dout$pnew
yde <- fpout$Dout$ygivenx %*% y
yde
x0 <- fpout$x
x0 <- x0[3:1, ]
X0
x0
x0 <- fpout$x
x0 <- x0[c(1,2,3), ]
x0
param0[ 4:12] <- c(x0)
param0 <- param
param0[ 4:12] <- c(x0)
fpout <- DiscFP(param0, gy=c(gy), y=y, U = Ucapm, alph=1000, xfcn = xfcnCapm, nit=1000)
fpout$itct
fpout$x
fpout$pnew
fpout$Dout$pnew
str(fpout$Dout)
fpout <- DiscFP(param, gy=c(gy), y=y, U = Ucapm, alph=1000, xfcn = xfcnCapm, nit=1000)
str(fpout$Dout)
fpout <- DiscFP(param, gy=c(gy), y=y, U = Ucapm, alph=1000, xfcn = xfcnCapm, nit=1000, crit=1e-9)
fpout$x
str(fpout$Dout)
fpout <- DiscFP(param0, gy=c(gy), y=y, U = Ucapm, alph=1000, xfcn = xfcnCapm, nit=1000, crit=1e-9)
str(fpout$Dout)
fpout$x
fpout$Dout$pnew
fpout <- DiscFP(param0, gy=c(gy), y=y, U = Ucapm, alph=1000, xfcn = xfcnCapm, nit=1000, crit=1e-11)
fpout$itct
fpout$x
str(fpout$Dout)
hist(fpout$Dout$h)
range(fpout$Dout$h)
fpout <- DiscFP(param0, gy=c(gy), y=y, U = Ucapm, alph=100, xfcn = xfcnCapm, nit=1000, crit=1e-11)
fpout <- DiscFP(param0, gy=c(gy), y=y, U = Ucapm, alph=100, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout$itct
fpout$x
fpout$Dout$pnew
str(fpout$Dout)
x0 <- diag(4,3)
x0[4,] <- rep(1,3)/3
x0
x0 <- diag(1,4,3)
x0[4,] <- rep(1,3)/3
x0
param <- c(4, .25, .25, .25, c(x0))
fpout <- DiscFP(param, gy=c(gy), y=y, U = Ucapm, alph=100, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout$itct
fpout$x
fpout$pnew
fpout$Dout$pnew
str(fpout$Dout)
yde <- fpout$Dout$ygivenx %*% y
yde
x <- matrix(rnorm(18), 6, 3)
x <- (1/apply(x, 1, sum)) * x
x
param <- c(6, rep(1/6, 5), c(x))
fpout <- DiscFP(param, gy=c(gy), y=y, U = Ucapm, alph=100, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout$itct
fpout$x
fpout$pnew
fpout$Dout$pnew
str(fpout$Dout)
yde <- fpout$Dout$ygivenx %*% y
yde
fpout$x
y2de <- fpout$Dout$ygivenx %*% y^2
y2de <- y2de - yde^2
y2de
rets <- y %*% t(x)
apply(rets, 2, mean)
apply(rets, 2, sd)
dim(y)
yrand <- y
yrand[ ,2:3] <- rnorm(3362) * .1 + 1.01
apply(yrand, 2, mean)
apply(y, 2, mean)
yrand[ ,2:3] <- rnorm(3362) * .1 + .11
apply(yrand, 2, sd)
apply(y, 2, sd)
fpout <- DiscFP(param, gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=100, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout$itct
fpout$x
fpout$Dout$pnew
retsrand <- yrand %*% t(x)
apply(retsrand, 2, mean)
apply(retsrand, 2, sd)
retsrandM <- fpout$Dout$ygivenx %*% retsrand
retsrandM
retsrandSD <- sqrt(fpout$Dout$ygivenx %*% retsrand^2 - retsrandM^2)
retsrandSD
retsrandU <- ygivenx %*% (retsrand - .5 * retsrand^2)
retsrandU <- fpout$Dout$ygivenx %*% (retsrand - .5 * retsrand^2)
retsrandU
range(fpout$Dout$h)
fpout$x
save.image()
savehistory("~/R/svnPrinceton/toolbox/RIplus/trunk/DiscreteX/.Rhistory")
fpout <- DiscFP(param, gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=30, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout$itct
fpout$x
fpout$Dout$pnew
source('~/R/svnPrinceton/toolbox/RIplus/trunk/DiscreteX/cdfwtd.R')
plot(cdfwtd(fpout$Dout$ygivenx[ , 1], y[ ,1]))
source('~/R/svnPrinceton/toolbox/RIplus/trunk/DiscreteX/cdfwtd.R')
plot(cdfwtd(fpout$Dout$ygivenx[ , 1], y[ ,1]))
cdfout <- cdfwtd(fpout$Dout$ygivenx[1, ]', y[ , 1] )
''
cdfout <- cdfwtd(t(fpout$Dout$ygivenx[1, ]), y[ , 1] )
plot(cdfout)
cdfout[1:5,]
plot(cdfwtd(t(fpout$Dout$ygivenx[2, ]), y[ , 2] ), type="l")
plot(cdfwtd(t(fpout$Dout$ygivenx[3, ]), y[ , 2] ), type="l")
plot(cdfwtd(t(fpout$Dout$ygivenx[4, ]), y[ , 2] ), type="l")
plot(cdfwtd(t(fpout$Dout$ygivenx[1, ]), y[ , 2] ), type="l")
plot(cdfwtd(t(fpout$Dout$ygivenx[5, ]), y[ , 2] ), type="l")
plot(cdfwtd(t(fpout$Dout$ygivenx[6, ]), y[ , 2] ), type="l")
plot(cdfwtd(t(fpout$Dout$ygivenx[6, ]), y[ , 3] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[6, ]), y[ , 3] ), col=red)
lines(cdfwtd(t(fpout$Dout$ygivenx[6, ]), y[ , 3] ), col=red)
lines(cdfwtd(t(fpout$Dout$ygivenx[6, ]), y[ , 3] ), col="red")
lines(cdfwtd(t(fpout$Dout$ygivenx[5, ]), y[ , 3] ), col="blue")
lines(cdfwtd(t(fpout$Dout$ygivenx[4, ]), y[ , 3] ), col="green")
lines(cdfwtd(t(fpout$Dout$ygivenx[3, ]), y[ , 3] ), col="orange")
lines(cdfwtd(t(fpout$Dout$ygivenx[2, ]), y[ , 3] ), col="purple")
lines(cdfwtd(t(fpout$Dout$ygivenx[1, ]), y[ , 3] ), col="violet")
fpout <- DiscFP(param+c(0, .1, rep(0,22)), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=30, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout$itct
fpout$x
hist(y[ ,2])
plot(cdfwtd(t(fpout$Dout$ygivenx[6, ]), yrand[ , 3] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[5, ]), yrand[ , 3] ), col="violet")
lines(cdfwtd(t(fpout$Dout$ygivenx[4, ]), yrand[ , 3] ), col="orange")
lines(cdfwtd(t(fpout$Dout$ygivenx[3, ]), yrand[ , 3] ), col="green")
lines(cdfwtd(t(fpout$Dout$ygivenx[2, ]), yrand[ , 3] ), col="blue")
lines(cdfwtd(t(fpout$Dout$ygivenx[1, ]), yrand[ , 3] ), col="red")
plot(cdfwtd(t(fpout$Dout$ygivenx[6, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[6, ]), yrand[ , 3] ), col="red")
plot(cdfwtd(t(fpout$Dout$ygivenx[5, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[5, ]), yrand[ , 3] ), col="red")
plot(cdfwtd(t(fpout$Dout$ygivenx[4, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[4, ]), yrand[ , 3] ), col="red")
plot(cdfwtd(t(fpout$Dout$ygivenx[3, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[3, ]), yrand[ , 3] ), col="red")
plot(cdfwtd(t(fpout$Dout$ygivenx[2, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[2, ]), yrand[ , 3] ), col="red")
plot(cdfwtd(t(fpout$Dout$ygivenx[1, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[1, ]), yrand[ , 3] ), col="red")
fpout <- DiscFP(param+c(0, .1, rep(0,22)), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=10, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout$itct
fpout$x
fpout$Dout$pnew
fpout <- DiscFP(param+c(0, .1, rep(0,22)), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=5, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout$itct
str(fpout)
fpout <- DiscFP(param=c(6, fpout$Dout$pnew[1:5], param[-(1:6)]), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=5, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout <- DiscFP(param=c(6, fpout$Dout$pnew[1:5], fpout$x), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=5, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout$itct
str(fpout)
fpout$Dout$pnew
plot(cdfwtd(t(fpout$Dout$ygivenx[6, ]), yrand[ , 3] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[6, ]), yrand[ , 3] ), col="red")
lines(cdfwtd(t(fpout$Dout$ygivenx[6, ]), yrand[ , 3] ), col="black")
lines(cdfwtd(t(fpout$Dout$ygivenx[6, ]), yrand[ , 2] ), col="black")
plot(cdfwtd(t(fpout$Dout$ygivenx[6, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[6, ]), yrand[ , 3] ), col="black")
plot(cdfwtd(t(fpout$Dout$ygivenx[6, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[6, ]), yrand[ , 3] ), col="red")
plot(cdfwtd(t(fpout$Dout$ygivenx[5, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[5, ]), yrand[ , 3] ), col="red")
plot(cdfwtd(t(fpout$Dout$ygivenx[4, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[4, ]), yrand[ , 3] ), col="red")
plot(cdfwtd(t(fpout$Dout$ygivenx[3, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[3, ]), yrand[ , 3] ), col="red")
plot(cdfwtd(t(fpout$Dout$ygivenx[2, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[2, ]), yrand[ , 3] ), col="red")
plot(cdfwtd(t(fpout$Dout$ygivenx[1, ]), yrand[ , 2] ), type="l")
lines(cdfwtd(t(fpout$Dout$ygivenx[1, ]), yrand[ , 3] ), col="red")
fpout$x
fpout3 <- DiscFP(param=c(6, fpout$Dout$pnew[1:5], fpout$x), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=3, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout3$x
fpout3$Dout$pnew
fpout1 <- DiscFP(param=c(6, fpout3$Dout$pnew[1:5], fpout$x), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=1, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout1$itct
fpout$x
fpout$Dout$pnew
fpout1$Dout$pnew
fpout1$x
fpout3$x
fpout3$Dout$pnew
fpout2 <- DiscFP(param=c(6, fpout3$Dout$pnew[1:5], fpout$x), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=2, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout2$itct
fpout2 <- DiscFP(param=c(6, fpout2$Dout$pnew[1:5], fpout2$x), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=2, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout2$itct
str(fpout2)
fpout2$x
fpout2$Dout$pnew
fpout2 <- DiscFP(param=c(6, fpout2$Dout$pnew[1:5], fpout2$x), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=2, xfcn = xfcnCapm, nit=1000, crit=1e-8)
fpout2$itct
str(fpout2)
fpout2$x
fpout2$Dout$pnew
fpout2a <- DiscFP(param=c(5, fpout2$Dout$pnew[1:4], fpout2$x[-6,]), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=2, xfcn = xfcnCapm, nit=1000, crit=1e-8)
str(fpout2a)
fpout2a$x
fpout2a$obj
fpout2a$Dout$obj
fpout2$Dout$obj
fpout2a <- DiscFP(param=c(5, fpout2a$Dout$pnew[1:4], fpout2a$x), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=2, xfcn = xfcnCapm, nit=1000, crit=1e-7)
fpout2a$Dout$obj
str(fpout2a)
fpout2a$x
fpout2a3 <- DiscFP(param=c(3, fpout2a$Dout$pnew[c(1,4)], fpout2a$x[c(1,4,5), ]), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=2, xfcn = xfcnCapm, nit=1000, crit=1e-7)
fpout2a3$Dout$obj
fpout2a3$x
fpout2a3$itct
fpout2a3 <- DiscFP(param=c(3, fpout2a3$Dout$pnew[c(-3)], fpout2a3$x), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=2, xfcn = xfcnCapm, nit=1000, crit=1e-7)
fpout2a3$itct
fpout2a3$x
fpout2a3$Dout$obj
dx <- matrix(rnorm(9),3,3) * .1
dx <- (1/apply(dx, 1, sum)) * dx
dx
sum(dx)
dx <- matrix(rnorm(9),3,3) * .1
dx <-  dx - apply(dx, 1, sum)
sum(dx)
dx
dx <- matrix(rnorm(9),3,3) * .1
dx
apply(dx, 1, sum)
dx - .Last.value
sum(dx)
apply(dx, 1, sum)
dx <- dx - apply(dx, 1, sum)
sum(dx)
dx
apply(dx,1,sum)
dx <- matrix(rnorm(9),3,3) * .1
dx <- dx - apply(dx, 1, sum)/3
sum(dx)
fpout2a3 <- DiscFP(param=c(3, fpout2a3$Dout$pnew[c(-3)], fpout2a3$x + dx), gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=2, xfcn = xfcnCapm, nit=1000, crit=1e-7)
fpout2a3$itct
fpout2a3$Dout$obj
fpout2a3$x
getwd()
save.image()
load("/home/chris/Documents/AEA/NomCommittee2014-15/.RData")
View(df)
getwd()
save(file="~/Documents/AEA/NomCommittee2014-15/", df, ec, vp, rb0, dfsumlogrank, dfsumrank,ecsumlogrank,ecsumrank,vpsumlogrank,vpsumrank, pairwiseVote)
save(file="~/Documents/AEA/NomCommittee2014-15/.RData", df, ec, vp, rb0, dfsumlogrank, dfsumrank,ecsumlogrank,ecsumrank,vpsumlogrank,vpsumrank, pairwiseVote)
View(df)
rm(df, ec, vp, rb0, dfsumlogrank, dfsumrank,ecsumlogrank,ecsumrank,vpsumlogrank,vpsumrank, pairwiseVote)
load("compiler")
library("compiler")
enableJIT(2)
fpout2a3 <- DiscFP(param=c(4, .2, .5, .1, diag(1,3,4)),  gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=2, xfcn = xfcnCapm, nit=1000, crit=1e-7)
source('~/R/toolbox/RIplus/trunk/DiscreteX/DiscFP.R')
source('~/R/toolbox/RIplus/trunk/DiscreteX/DiscPObjXmv.R')
source('~/R/toolbox/RIplus/trunk/DiscreteX/Ucapm.R')
source('~/R/toolbox/RIplus/trunk/DiscreteX/xfcnCapm.R')
fpout2a3 <- DiscFP(param=c(4, .2, .5, .1, diag(1,3,4)),  gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=2, xfcn = xfcnCapm, nit=1000, crit=1e-7)
library(tensor)
fpout2a3 <- DiscFP(param=c(4, .2, .5, .1, diag(1,3,4)),  gy=rep(1/1681,1681), y=yrand, U = Ucapm, alph=2, xfcn = xfcnCapm, nit=1000, crit=1e-7)
yrand1 <- matrix(rnorm(41), 41,41)
yrand2 <- matrix(rnorm(41), 41,41, byrow=TRUE)
yrand <- matrix(c(1.001, 1, 1), 1681, 3, byrow=TRUE)
yrand[ , 2:3] <- .1 * cbind(yrand1,yrand2)
apply(yrand, 2, mean)
yrand[ , 2:3] <- yrand[, 2:3] + 1
apply(yrand, 2, mean)
yrand <- yrand + matrix(c(-.001, .001, .001), 1681, 3, byrow=TRUE)
apply(yrand, 2, mean)
yrand <- yrand + matrix(c(0, 0, .001), 1681, 3, byrow=TRUE)
apply(yrand, 2, mean)
yrand <- yrand + matrix(c(0, 0, .01), 1681, 3, byrow=TRUE)
apply(yrand, 2, mean)
apply(yrand, 2, sd)
fpout1.5 <- DiscFP(param=c(4, .2, .3, .3, diag(1,4,3)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=1.5, xfcn=xfcnCapm, nit=1000)
str(fpout1.5)
f$x
fpout$x
fpout1.5$x
fpout2.5 <- DiscFP(param=c(4, .2, .3, .3, diag(1,4,3)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=2.5, xfcn=xfcnCapm, nit=1000)
fpout2.5$x
diag(1,4,3)
fpout2.5 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7,.2,.1,.7,.7,.1,.2, .3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=2.5, xfcn=xfcnCapm, nit=1000)
fpout2.5$x
fpout4 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7,.2,.1,.7,.7,.1,.2, .3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=4, xfcn=xfcnCapm, nit=1000)
fpout4$x
fpout10 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7,.2,.1,.7,.7,.1,.2, .3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=10, xfcn=xfcnCapm, nit=1000)
fpout10$x
fpout10 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7,.2,.1,.7,.7,.1,.2, .3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=20, xfcn=xfcnCapm, nit=1000)
fpout10$x
fpout30 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7,.2,.1,.7,.7,.1,.2, .3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=30, xfcn=xfcnCapm, nit=1000)
fpout30$x
yrand[ ,2:3] <- yrand[ ,2:3]+.02
fpout3 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7,.2,.1,.7,.7,.1,.2, .3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=3, xfcn=xfcnCapm, nit=1000)
fpout3$x
fpout10 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7,.2,.1,.7,.7,.1,.2, .3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=10, xfcn=xfcnCapm, nit=1000)
fpout10$x
yrand[ ,2:3] <- yrand[ ,2:3]+.02
fpout10 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7,.2,.1,.7,.7,.1,.2, .3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=10, xfcn=xfcnCapm, nit=1000)
fpout10$x
apply(yrand, 2, mean)
fpout10$Dout$pnew
fpout10 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7, .1,.1,.8, .1,0,.9, .1,.3,.6),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=10, xfcn=xfcnCapm, nit=1000)
str(fpout10)
fpout100 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7, .1,.1,.8, .1,0,.9, .1,.3,.6),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=100, xfcn=xfcnCapm, nit=1000)
fpout100$x
debug(DiscFP)
fpout100 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7, .1,.1,.8, .1,0,.9, .1,.3,.6),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=100, xfcn=xfcnCapm, nit=1000)
itct
print(n)
print(ny)
pold
xnew
range(Dout$ygivenx)
yrand[1:10, ]
yrand[1:10 * 10]
yrand[1:10 * 10, ]
apply(yrand, 2, mean)
fpout100 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7, .1,.1,.8, .1,0,.9, .1,.3,.6),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=100, xfcn=xfcnCapm, nit=1000)
plot(ygivenx[ , 1])
plot(Dout$ygivenx[ , 1])
plot(Dout$ygivenx[1, ])
plot(Dout$ygivenx[2, ])
plot(Dout$ygivenx[3, ])
plot(Dout$ygivenx[4, ])
xnew
source('~/R/toolbox/RIplus/trunk/DiscreteX/xfcnCapm.R')
fpout10 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7, .1,.1,.8, .1,0,.9, .1,.3,.6),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=10, xfcn=xfcnCapm, nit=1000)
getwd()
systerm(svd(matrix(rnorm(10000,100))))
system.time(svd(matrix(rnorm(10000,100))))
system.time(svd(matrix(rnorm(250000,500))))
library(compiler)
enableJIT()
enableJIT(2)
system.time(svd(matrix(rnorm(250000,500))))
system.time(svd(matrix(rnorm(250000,500))))
yrand2 <- .1*yrand + .9
apply(yrand2, 2, mean)
fpout10 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7, .1,.1,.8, .1,0,.9, .1,.3,.6),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=10, xfcn=xfcnCapm, nit=1000)
fpout$x
fpout10$x
yrand2[ ,2:3] <- yrand2[ ,2:3] + .1
fpout10 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7, .1,.1,.8, .1,0,.9, .1,.3,.6),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=10, xfcn=xfcnCapm, nit=1000)
fpout10$x
fpout10 <- DiscFP(param=c(4, .2, .3, .3, matrix(c(.1,.2,.7, .1,.1,.8, .1,0,.9, .1,.3,.6),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand, U=Ucapm, alph=10, xfcn=xfcnCapm, nit=1000)
plot(ts(ygivenx[1,])
)
plot(ts(ygivenx[2,])
)
apply(ygivenx, 1, sum)
apply(ygivenx, 1, mean)
apply(ygivenx, 1, sd)
undebug(xfcnCapm)
source('~/R/toolbox/RIplus/trunk/DiscreteX/xfcnCapm.R')
source('~/R/toolbox/RIplus/trunk/DiscreteX/xfcnCapm.R')
getwd()
A <- matrix(rnorm(40000),200,200)
system.time(for(i in 1:100) B <- svd(A))
library(compiler)
enableJIT(3)
system.time(for(i in 1:100) B <- svd(A))
system.time(for(i in 1:100) B <- svd(A))
q()
n
setwd("~/R/toolbox/RIplus/trunk/DiscreteX")
list.files()
load(".RData")
getwd()
list.files()
list.files(all.files=TRUE)
load(".RData")
ls()
 q()
n
 getwd()
q()
n
ls()
fpout15 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcncapm, alph=15,nit=1000)
}
fpout15 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcncapm, alph=15,nit=1000)
install.packages("tensor")
y
y
fpout15 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcncapm, alph=15,nit=1000)
ls()
str(yrand
)
yrand[1:10,]
yrand2 <- .1 *yrand + .09
apply(yrand2, 2, mean)
apply(yrand2, sd)
apply(yrand2, 2, sd)
fpout15 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcncapm, alph=15,nit=1000)
fpout15 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcnCapm, alph=15,nit=1000)
fpout15 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcnCapm, alph=15,nit=1000)
fpout15 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcnCapm, alph=15,nit=1000)
fpout15 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcnCapm, alph=15,nit=1000)
fpout15$x
fpout15$Dout$pnew
fpout30 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcnCapm, alph=30,nit=1000)
fpout30$x
fpout30$pnew
fpout30$Dout$pnew
fpout30 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcnCapm, alph=50,nit=1000)
fpout50$Dout$pnew
fpout30$Dout$pnew
fpout15 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcnCapm, alph=15,nit=1000)
fpout$pnew
fpout$Dout$pnew
fpout15$Dout$pnew
apply(yrand2, 2, mean)
yrand2[ , 2] <- yrand2[ , 2] - .008130
yrand2[ , 3] <- yrand2[ , 3] - .008247
fpout15 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcnCapm, alph=15,nit=1000)
fpout30 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcnCapm, alph=30,nit=1000)
fpout30$x
fpout30$Dout$pnew
fpout60 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcnCapm, alph=60,nit=1000)
fpout60$Dout$pnew
apply(yrand2, 2, sd)
q()
fpout60 <- DiscFP(param=c(4,.3,.2,.2, matrix(c(.1,.8,.1,.2,.2,.6,.7,.2,.1,.3,.3,.4),4,3,byrow=TRUE)), gy=rep(1/1681,1681), y=yrand2, U=Ucapm, xfcn=xfcnCapm, alph=60,nit=1000)
y
lsf.str()
x0 <- c(.3, .3, matrix(c(.2, .5, .7, .8, .5, .3),2))
DiscZ(x0, nx=3, gy=rep(1/1681, 1681), y=cbind(rep(1:40/41, 40), rep(1:40/41, each=40)), U=U2p, xfcn=xfcn2p, alph=1)
install.packages("tensor")
DiscZ(x0, nx=3, gy=rep(1/1681, 1681), y=cbind(rep(1:40/41, 40), rep(1:40/41, each=40)), U=U2p, xfcn=xfcn2p, alph=1)
DiscZ(x0, nx=3, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=1)
options(error=recover)
DiscZ(x0, nx=3, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=1)
M
ybar
Q
DiscZ(x0, nx=3, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=1)
str(screp)
str(pnew)
str(pold)
str(xnew)
str(xold)
nx
pnew[-nx, icol]
icol
0
DiscZ(x0, nx=3, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=1)
p0 <- c(3, .3, .3, matrix(c(.2, .5, .7, .8, .5, .3), ncol=2))
fpout <- (p0, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=1)
fpout <- DiscFP(p0, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=1)
fpout
fpout <- DiscFP(p0, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=10)
fpout
str(fpout)
fpout <- DiscFP(p0, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=10, nit=50)
str(fpout)
fpout <- DiscFP(p0, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=10, nit=200)
fpout <- DiscFP(p0, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=30, nit=200)
fpout <- DiscFP(p0, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=100, nit=200)
fpout <- DiscFP(c(3, fpout$Dout$pnew[1:2], fpout$x), gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=100, nit=200)
fpout <- DiscFP(p0, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=200, nit=200)
fpout <- DiscFP(p0, gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=300, nit=200)
fpout <- DiscFP(c(3, fpout$Dout$pnew[1:2], fpout$x), gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=100, nit=200)
fpout <- DiscFP(c(3, fpout$Dout$pnew[1:2], fpout$x), gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=100, nit=200)
fpout <- DiscFP(c(3, fpout$Dout$pnew[1:2], fpout$x), gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=100, nit=200)
fpout <- DiscFP(c(3, fpout$Dout$pnew[1:2], fpout$x), gy=rep(1/1681, 1681), y=cbind(rep(1:41/42, 41), rep(1:41/42, each=41)), U=U2p, xfcn=xfcn2p, alph=100, nit=200)
str(fpout)
fpout$x
fpout$Dout$pnew
q()
y
