plot(ywti0[5,3,,2],type="l")
B <- matrix(rnorm(125),ncol=25)
y <- rnorm(25)
system.time(for (it=1:100) {y1 <- B %*% y; y <- c(y1,y[1:20])})
help.start()
system.time(for (it in 1:100) {y1 <- B %*% y; y <- c(y1,y[1:20])})
system.time(for (it in 1:10000) {y1 <- B %*% y; y <- c(y1,y[1:20])})
Bmat <- rbind(B,cbind(diag(20),matrix(0,20,5)))
Bmat
y <- rnorm(25)
system.time(for (it in 1:10000) {y <- Bmat %*% y})
dim(B) <- c(5,5,5)
ymat <- matrix(0,5,1000)
ymat[,1] <- rnorm(5)
system.time(for (it in 6:1000) {for (il in 1:5) ymat[,it] <- ymat[,it] + B[,,il] %*% ymat[,it-il]} )
y <- rep(0,10000)
dim(B) <- c(5,125)
dim(B) <- c(5,25)
y[1:5] <- rnorm(5)
system.time(for (it in 6:10000) y[(it-1)*5+(1:5)] <- B %*% y[(it-6)*5+(1:25)])
dim(B)
ix <- 26:30
ir <- 1:25
system.time(for (it in 6:10000) { y[ix] <- B %*% y[ir];ix <- ix+5; ir <- ir+5} )
y <- rep(0,50000)
y[21:25] <- rnorm(5)
system.time(for (it in 6:10000) { y[ix] <- B %*% y[ir];ix <- ix+5; ir <- ir+5} )
ix <- 26:30
ir <- 1:25
system.time(for (it in 6:10000) { y[ix] <- B %*% y[ir];ix <- ix+5; ir <- ir+5} )
dim(y)
length(y)
